{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./SendMessage.css\";import axios from\"axios\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var baseURL=\"https://strangers-things.herokuapp.com/api/2206-ftb-et-web-ft-b\";var SendMessage=function SendMessage(_ref){var userToken=_ref.userToken;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),messageText=_useState2[0],setMessageText=_useState2[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();function sendMessage(_x){return _sendMessage.apply(this,arguments);}function _sendMessage(){_sendMessage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"\".concat(baseURL,\"/posts/\").concat(id,\"/messages\"),{headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(userToken)},message:{content:{messageText:messageText}}});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[1,6]]);}));return _sendMessage.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"message-form\",children:userToken?/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{}),/*#__PURE__*/_jsx(\"textarea\",{rows:20,cols:100,onChange:function onChange(event){return setMessageText(event.target.value);},placeholder:\"Please enter message\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return sendMessage();},children:\"Send Message\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/post\");},children:\"Back to Posts\"})]}):/*#__PURE__*/_jsx(\"h3\",{children:\"Please login to send messages to seller\"})});};export default SendMessage;","map":{"version":3,"names":["React","useState","axios","useNavigate","useParams","baseURL","SendMessage","userToken","messageText","setMessageText","id","navigate","sendMessage","event","preventDefault","post","headers","Authorization","message","content","console","error","target","value"],"sources":["/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/src/components/SendMessage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./SendMessage.css\";\nimport axios from \"axios\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nconst baseURL =\n  \"https://strangers-things.herokuapp.com/api/2206-ftb-et-web-ft-b\";\n\nconst SendMessage = ({ userToken }) => {\n  const [messageText, setMessageText] = useState(\"\");\n  const { id } = useParams();\n  \n  const navigate = useNavigate();\n  \n    async function sendMessage(event) {\n      event.preventDefault();\n      try {\n      await axios.post(`${baseURL}/posts/${id}/messages`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${userToken}`,\n         \n        },\n        message: {\n          content: { messageText },\n        },\n      });\n    }\n   catch (error) {\n    console.error(error);\n  }\n}\n\n  return (\n    <div className=\"message-form\">\n      {userToken ? (\n        <form>\n          <label></label>\n\n          <textarea\n            rows={20}\n            cols={100}\n            onChange={(event) => setMessageText(event.target.value)}\n            placeholder=\"Please enter message\"\n          ></textarea>\n\n          <button onClick={() => sendMessage()}>Send Message</button>\n          <button onClick={() => navigate(`/post`)}>Back to Posts</button>\n        </form>\n      ) : (\n        <h3>Please login to send messages to seller</h3>\n      )}\n    </div>\n  );\n};\n\nexport default SendMessage;\n"],"mappings":"kgBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,mBAAP,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,SAAtB,KAAuC,kBAAvC,C,wFAEA,GAAMC,QAAO,CACX,iEADF,CAGA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAAmB,IAAhBC,UAAgB,MAAhBA,SAAgB,CACrC,cAAsCN,QAAQ,CAAC,EAAD,CAA9C,wCAAOO,WAAP,eAAoBC,cAApB,eACA,eAAeL,SAAS,EAAxB,CAAQM,EAAR,YAAQA,EAAR,CAEA,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CAJqC,QAMpBS,YANoB,+IAMnC,iBAA2BC,KAA3B,oHACEA,KAAK,CAACC,cAAN,GADF,sCAGQZ,MAAK,CAACa,IAAN,WAAcV,OAAd,mBAA+BK,EAA/B,cAA8C,CAClDM,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,kBAAYV,SAAZ,CAFN,CADyC,CAMlDW,OAAO,CAAE,CACPC,OAAO,CAAE,CAAEX,WAAW,CAAXA,WAAF,CADF,CANyC,CAA9C,CAHR,sFAeAY,OAAO,CAACC,KAAR,cAfA,mEANmC,8CAyBrC,mBACE,YAAK,SAAS,CAAC,cAAf,UACGd,SAAS,cACR,qCACE,gBADF,cAGE,iBACE,IAAI,CAAE,EADR,CAEE,IAAI,CAAE,GAFR,CAGE,QAAQ,CAAE,kBAACM,KAAD,QAAWJ,eAAc,CAACI,KAAK,CAACS,MAAN,CAAaC,KAAd,CAAzB,EAHZ,CAIE,WAAW,CAAC,sBAJd,EAHF,cAUE,eAAQ,OAAO,CAAE,yBAAMX,YAAW,EAAjB,EAAjB,0BAVF,cAWE,eAAQ,OAAO,CAAE,yBAAMD,SAAQ,SAAd,EAAjB,2BAXF,GADQ,cAeR,+DAhBJ,EADF,CAqBD,CA9CD,CAgDA,cAAeL,YAAf"},"metadata":{},"sourceType":"module"}