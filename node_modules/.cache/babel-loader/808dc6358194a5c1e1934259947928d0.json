{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import'./Post.css';import{Link}from'react-router-dom';import React,{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var baseURL=\"https://strangers-things.herokuapp.com/api/2206-ftb-et-web-ft-b\";var Post=function Post(_ref){var allPosts=_ref.allPosts,setAllPosts=_ref.setAllPosts;var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();useEffect(function(){var fetchPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(baseURL,\"/posts\"));case 3:response=_context.sent;setAllPosts(response.data.data.posts);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchPosts(){return _ref2.apply(this,arguments);};}();fetchPosts();},[]);// console.log(allPosts)\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Posts\"}),allPosts.map(function(eachPost,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"individual-post\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"post_lead\",children:\"Item for sale: \"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:eachPost.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Item description: \",eachPost.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Item Price: $\",eachPost.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",eachPost.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Seller: \",eachPost.author.username]}),eachPost.willDeliver?/*#__PURE__*/_jsx(\"p\",{children:\"Seller willing to deliver\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Pick up only\"}),/*#__PURE__*/_jsx(\"div\",{className:\"message-button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/\".concat(eachPost._id));},children:\"Send Seller Message\"})})]},idx);})]});};export default Post;","map":{"version":3,"names":["Link","React","useEffect","useState","useNavigate","useParams","axios","baseURL","Post","allPosts","setAllPosts","id","navigate","fetchPosts","get","response","data","posts","console","error","map","eachPost","idx","title","description","price","location","author","username","willDeliver","_id"],"sources":["/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/src/components/Post.js"],"sourcesContent":["import './Post.css'; \nimport { Link } from 'react-router-dom';\n\n\n\nimport React, { useEffect, useState } from \"react\";\nimport {useNavigate, useParams} from \"react-router-dom\"\nimport axios from \"axios\";\n\nconst baseURL =\n  \"https://strangers-things.herokuapp.com/api/2206-ftb-et-web-ft-b\";\n\nconst Post = ({allPosts, setAllPosts}) => {\n  \n  const {id}= useParams();\n  const navigate= useNavigate();\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        const response = await axios.get(`${baseURL}/posts`); \n        setAllPosts(response.data.data.posts);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    fetchPosts();\n    \n  }, []);\n\n  // console.log(allPosts)\n  return (\n    <>\n    <h1>Posts</h1>\n    {allPosts.map((eachPost, idx) => {\n        return (\n          \n          <div key={idx} className=\"individual-post\">\n            <span className=\"post_lead\">Item for sale: </span> <span>{eachPost.title}</span>\n            <p>Item description: {eachPost.description}</p>\n            \n            <p>Item Price: ${eachPost.price}</p>\n            <p>Location: {eachPost.location}</p>\n            <p>Seller: {eachPost.author.username}</p>\n            {eachPost.willDeliver ? <p>Seller willing to deliver</p> : <p>Pick up only</p>}\n            <div className='message-button'>\n              \n            <button onClick={()=>navigate(`/${eachPost._id}`)} >Send Seller Message</button>\n            \n            </div>\n          </div>\n        );\n      })}\n    </>\n    )\n  \n};\n\n\n\nexport default Post;\n"],"mappings":"4VAAA,MAAO,YAAP,CACA,OAASA,IAAT,KAAqB,kBAArB,CAIA,MAAOC,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAAQC,WAAR,CAAqBC,SAArB,KAAqC,kBAArC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,QAAO,CACX,iEADF,CAGA,GAAMC,KAAI,CAAG,QAAPA,KAAO,MAA6B,IAA3BC,SAA2B,MAA3BA,QAA2B,CAAjBC,WAAiB,MAAjBA,WAAiB,CAExC,eAAYL,SAAS,EAArB,CAAOM,EAAP,YAAOA,EAAP,CACA,GAAMC,SAAQ,CAAER,WAAW,EAA3B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAMW,WAAU,6FAAG,wLAEQP,MAAK,CAACQ,GAAN,WAAaP,OAAb,WAFR,QAETQ,QAFS,eAGfL,WAAW,CAACK,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,KAApB,CAAX,CAHe,+EAKfC,OAAO,CAACC,KAAR,cALe,oEAAH,kBAAVN,WAAU,2CAAhB,CAQAA,UAAU,GAEX,CAXQ,CAWN,EAXM,CAAT,CAaA;AACA,mBACE,wCACA,6BADA,CAECJ,QAAQ,CAACW,GAAT,CAAa,SAACC,QAAD,CAAWC,GAAX,CAAmB,CAC7B,mBAEE,aAAe,SAAS,CAAC,iBAAzB,wBACE,aAAM,SAAS,CAAC,WAAhB,6BADF,kBACqD,sBAAOD,QAAQ,CAACE,KAAhB,EADrD,cAEE,0CAAsBF,QAAQ,CAACG,WAA/B,GAFF,cAIE,qCAAiBH,QAAQ,CAACI,KAA1B,GAJF,cAKE,kCAAcJ,QAAQ,CAACK,QAAvB,GALF,cAME,gCAAYL,QAAQ,CAACM,MAAT,CAAgBC,QAA5B,GANF,CAOGP,QAAQ,CAACQ,WAAT,cAAuB,gDAAvB,cAA0D,mCAP7D,cAQE,YAAK,SAAS,CAAC,gBAAf,uBAEA,eAAQ,OAAO,CAAE,yBAAIjB,SAAQ,YAAKS,QAAQ,CAACS,GAAd,EAAZ,EAAjB,iCAFA,EARF,GAAUR,GAAV,CAFF,CAiBD,CAlBF,CAFD,GADF,CAyBD,CA5CD,CAgDA,cAAed,KAAf"},"metadata":{},"sourceType":"module"}