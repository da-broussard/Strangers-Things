{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import'./Register.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var baseURL=\"https://strangers-things.herokuapp.com/api/2206-ftb-et-web-ft-b\";var Register=function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),passWord=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var addUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(!(passWord!==confirmPassword)){_context.next=5;break;}alert(\"PASSWORDS DO NOT MATCH\");_context.next=18;break;case 5:_context.prev=5;_context.next=8;return axios.post(\"\".concat(baseURL,\"/users/register\"),{user:{username:userName,password:passWord}});case 8:response=_context.sent;console.log(response.data.data.token);window.localStorage.setItem('token',response.data.data.token);//Right here I was trying to get my form to reset again, wasthinking of useing useEffect----------------------------------------------------\nsetUserName(' ');setPassword(' ');_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](5);console.error(_context.t0);case 18:case\"end\":return _context.stop();}}},_callee,null,[[5,15]]);}));return function addUser(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"add-new-user\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Please enter a Username & Password to start using Strangers-Things\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addUser,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"username-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,minLength:8,onChange:function onChange(event){return setUserName(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,minLength:8,onChange:function onChange(event){return setPassword(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",required:true,minLength:8,onChange:function onChange(event){return setConfirmPassword(event.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Account\"})})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Usernames and Passwords must be have 8 characters or more\"})]});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","axios","baseURL","Register","userName","setUserName","passWord","setPassword","confirmPassword","setConfirmPassword","addUser","event","preventDefault","alert","post","user","username","password","response","console","log","data","token","window","localStorage","setItem","error","target","value"],"sources":["/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/src/components/Register.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport './Register.css'\n\nconst baseURL =\n  \"https://strangers-things.herokuapp.com/api/2206-ftb-et-web-ft-b\";\n\n\n\n\n  \nconst Register = () => {\n  const [userName, setUserName] = useState(\"\");\n  const [passWord, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  \n\n  const addUser = async (event) => {\n    event.preventDefault();\n    \n    if (passWord !== confirmPassword) {\n      alert(\"PASSWORDS DO NOT MATCH\");\n    } else {\n      try {\n        const response = await axios.post(`${baseURL}/users/register`, {\n          user: {\n            username: userName,\n            password: passWord,\n          },\n        });\n        console.log(response.data.data.token);\n        \n        window.localStorage.setItem('token', response.data.data.token);\n        //Right here I was trying to get my form to reset again, wasthinking of useing useEffect----------------------------------------------------\n        setUserName(' ');\n        setPassword(' ');\n      } catch (err) {\n        console.error(err);\n      }\n    }\n  };\n\n  return (\n    <div className=\"add-new-user\">\n      <h3>\n        Please enter a Username & Password to start using Strangers-Things\n      </h3>\n      <form onSubmit={addUser}>\n        <div className=\"username-field\">\n          <label>Username:</label>\n          <br></br>\n          <input\n            type=\"text\"\n            required\n            minLength={8}\n            onChange={(event) => setUserName(event.target.value)}\n          ></input>\n        </div>\n        <div className=\"password-field\">\n          <label>Password:</label>\n          <br></br>\n          <input\n            type=\"password\"\n            required\n            minLength={8}\n            onChange={(event) => setPassword(event.target.value)}\n          ></input>\n          </div>\n          <div>\n          <label>Confirm Password</label>\n          <br></br>\n          <input\n            type=\"password\"\n            required\n            minLength={8}\n            onChange={(event) => setConfirmPassword(event.target.value)}\n          ></input>\n        </div>\n        <div>\n          <button type=\"submit\">Create Account</button>\n        </div>\n      </form>\n      <p>Usernames and Passwords must be have 8 characters or more</p>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"kgBAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAO,gBAAP,C,wFAEA,GAAMC,QAAO,CACX,iEADF,CAOA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAA8CR,QAAQ,CAAC,EAAD,CAAtD,yCAAOS,eAAP,eAAwBC,kBAAxB,eAGA,GAAMC,QAAO,4FAAG,iBAAOC,KAAP,iIACdA,KAAK,CAACC,cAAN,GADc,KAGVN,QAAQ,GAAKE,eAHH,0BAIZK,KAAK,CAAC,wBAAD,CAAL,CAJY,oEAOaZ,MAAK,CAACa,IAAN,WAAcZ,OAAd,oBAAwC,CAC7Da,IAAI,CAAE,CACJC,QAAQ,CAAEZ,QADN,CAEJa,QAAQ,CAAEX,QAFN,CADuD,CAAxC,CAPb,QAOJY,QAPI,eAaVC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBC,KAA/B,EAEAC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAqCP,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBC,KAAxD,EACA;AACAjB,WAAW,CAAC,GAAD,CAAX,CACAE,WAAW,CAAC,GAAD,CAAX,CAlBU,iFAoBVY,OAAO,CAACO,KAAR,cApBU,qEAAH,kBAAPhB,QAAO,4CAAb,CAyBA,mBACE,aAAK,SAAS,CAAC,cAAf,wBACE,0FADF,cAIE,cAAM,QAAQ,CAAEA,OAAhB,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,oCADF,cAEE,aAFF,cAGE,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,KAFV,CAGE,SAAS,CAAE,CAHb,CAIE,QAAQ,CAAE,kBAACC,KAAD,QAAWN,YAAW,CAACM,KAAK,CAACgB,MAAN,CAAaC,KAAd,CAAtB,EAJZ,EAHF,GADF,cAWE,aAAK,SAAS,CAAC,gBAAf,wBACE,oCADF,cAEE,aAFF,cAGE,cACE,IAAI,CAAC,UADP,CAEE,QAAQ,KAFV,CAGE,SAAS,CAAE,CAHb,CAIE,QAAQ,CAAE,kBAACjB,KAAD,QAAWJ,YAAW,CAACI,KAAK,CAACgB,MAAN,CAAaC,KAAd,CAAtB,EAJZ,EAHF,GAXF,cAqBI,oCACA,2CADA,cAEA,aAFA,cAGA,cACE,IAAI,CAAC,UADP,CAEE,QAAQ,KAFV,CAGE,SAAS,CAAE,CAHb,CAIE,QAAQ,CAAE,kBAACjB,KAAD,QAAWF,mBAAkB,CAACE,KAAK,CAACgB,MAAN,CAAaC,KAAd,CAA7B,EAJZ,EAHA,GArBJ,cA+BE,kCACE,eAAQ,IAAI,CAAC,QAAb,4BADF,EA/BF,GAJF,cAuCE,gFAvCF,GADF,CA2CD,CA1ED,CA4EA,cAAezB,SAAf"},"metadata":{},"sourceType":"module"}