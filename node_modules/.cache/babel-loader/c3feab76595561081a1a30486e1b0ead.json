{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";// import axios from \"axios\";\nimport'./NewPosts.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewPost=function NewPost(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),userToken=_useState12[0],setUserToken=_useState12[1];var baseURL=\"https://strangers-things.herokuapp.com/api/2206-ftb-et-web-ft-b\";useEffect(function(){setUserToken(localStorage.getItem(\"token\"));console.log(userToken);},[]);var addNewPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return fetch(\"\".concat(baseURL,\"/posts\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(userToken)},body:JSON.stringify({post:{title:title,description:description,price:\"$\".concat(price),willDeliver:willDeliver}})});case 4:alert(\"Your Post is now listed on Strangers Things\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function addNewPost(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"new-posts-page\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNewPost,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"new-posts-inputs\",type:\"text\",onChange:function onChange(event){return setTitle(event.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Description:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"new-posts-inputs\",type:\"text\",onChange:function onChange(event){return setDescription(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price: \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"new-posts-inputs\",type:\"text\",onChange:function onChange(event){return setPrice(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"new-posts-inputs\",type:\"text\",onChange:function onChange(event){return setLocation(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Will Deliver\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:function onClick(){return setWillDeliver(true);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"new-post-submit\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit New Post\"})})]})});};export default NewPost;","map":{"version":3,"names":["React","useState","useEffect","NewPost","title","setTitle","description","setDescription","price","setPrice","location","setLocation","willDeliver","setWillDeliver","userToken","setUserToken","baseURL","localStorage","getItem","console","log","addNewPost","event","preventDefault","fetch","method","headers","Authorization","body","JSON","stringify","post","alert","error","target","value"],"sources":["/Users/dustinbroussard/Desktop/FullStack/course_work/project_09/Strangers-Things/src/components/NewPost.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\nimport './NewPosts.css'\n\nconst NewPost = () => {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [willDeliver, setWillDeliver] = useState(false);\n  const [userToken, setUserToken] = useState(\"\");\n\n  const baseURL =\n    \"https://strangers-things.herokuapp.com/api/2206-ftb-et-web-ft-b\";\n\n  useEffect(() => {\n    setUserToken(localStorage.getItem(\"token\"));\n    console.log(userToken);\n  }, []);\n\n  const addNewPost = async (event) => {\n    event.preventDefault();\n    try {\n      await fetch(`${baseURL}/posts`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${userToken}`,\n        },\n        body: JSON.stringify({\n          post: {\n            title: title,\n            description: description,\n            price: `$${price}`,\n            willDeliver: willDeliver,\n          },\n        }),\n      });\n      alert(\"Your Post is now listed on Strangers Things\")\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"new-posts-page\">\n      <form onSubmit={addNewPost}>\n        <div>\n          <label>Product Name</label>\n          <br></br>\n          <input className='new-posts-inputs'\n            type=\"text\"\n            onChange={(event) => setTitle(event.target.value)}\n          ></input>\n        </div>\n        <br></br>\n        <div>\n          <label>Product Description:</label>\n          <br></br>\n          <input className='new-posts-inputs'\n            type=\"text\"\n            onChange={(event) => setDescription(event.target.value)}\n          ></input>\n        </div>\n        <div>\n          <label>Price: </label>\n          <br></br>\n          <input className='new-posts-inputs'\n            type=\"text\"\n            onChange={(event) => setPrice(event.target.value)}\n          ></input>\n        </div>\n        <div>\n          <label>Location</label>\n          <br></br>\n          <input className='new-posts-inputs'\n            type=\"text\"\n            onChange={(event) => setLocation(event.target.value)}\n          ></input>\n        </div>\n        <div>\n          <label>Will Deliver</label>\n          <input\n            type=\"checkbox\"\n            onClick={()=>setWillDeliver(true)}\n          ></input>\n        </div>\n        <div className='new-post-submit'>\n        <button type=\"submit\">Submit New Post</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default NewPost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}